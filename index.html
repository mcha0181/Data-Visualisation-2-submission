<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Australian Catering Industry Visualisation</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  
  <style>
    body {
      font-family: 'Inter', 'Segoe UI', sans-serif;
      background: linear-gradient(#cde6ff, #f8fcff);
      margin: 0;
      padding: 2rem;
      color: #222;
    }

    .chart-card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.08);
      padding: 2rem;
      margin: 2rem auto;
      max-width: 1100px;
    }

    .chart-card h2 {
      margin-top: 0;
      color: #004e92;
      font-size: 1.8rem;
      border-left: 6px solid #00bcd4;
      padding-left: 0.6rem;
    }

    .chart-desc {
      font-style: italic;
      color: #444;
      margin-bottom: 1rem;
      background: #f3f9fc;
      padding: 0.8rem;
      border-radius: 8px;
    }

    .viz-row {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      align-items: center;
      justify-content: space-between;
    }

    .viz {
      flex: 1 1 600px;
      min-width: 480px;
      max-width: 650px;
      height: 420px;
    }

    .caption-box {
      flex: 1 1 350px;
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
    }

    .caption-main {
      color: #333;
      font-weight: 600;
      border-left: 4px solid #00bcd4;
      padding-left: 0.6rem;
    }

    .caption-secondary {
      color: #666;
      font-size: 0.95rem;
    }

    footer {
      text-align: center;
      margin-top: 3rem;
      color: #555;
    }
  </style>
</head>

<body>
  <h1 style="text-align:center; color:#003f6f;">Australian Catering Industry Dashboard</h1>
  <p style="text-align:center; max-width:850px; margin:auto; color:#444;">
    This dashboard visualises the evolving landscape of Australia’s food and catering industry — 
    from restaurant distribution and cuisine trends to cost breakdowns and supply chains.
  </p>

  <script type="text/javascript">
    const charts = [
      {
        title: "Restaurant Distribution by City",
        desc: "Shows restaurant concentration across Australian cities to highlight regional dining activity.",
        spec: "https://mcha0181.github.io/Data-Visualisation-2-submission/Australia%20restaurant%20by%20city.json",
        main: "Sydney and Melbourne dominate due to dense populations and tourism.",
        secondary: "Smaller clusters in Perth and Brisbane suggest growing suburban hospitality hubs.",
        sideBySide: true
      },
      {
        title: "Cuisine Revenue Trends (2000–2025)",
        desc: "Reveals how Australians’ culinary preferences evolved — from Western to Asian and plant-based cuisine.",
        spec: "https://mcha0181.github.io/Data-Visualisation-2-submission/Australia%20cuisine%20revenue.json",
        main: "Asian cuisines exhibit sharp growth, overtaking traditional European styles.",
        secondary: "Pandemic dips in 2020–2021 were followed by rapid consumer rebound.",
        sideBySide: false
      },
      {
        title: "Overall Catering Revenue Outlook",
        desc: "Aggregates national catering revenue to show post-pandemic recovery and business resilience.",
        spec: "https://mcha0181.github.io/Data-Visualisation-2-submission/Asutralia%20catering%20revenue.json",
        main: "2023 revenue exceeded pre-pandemic levels, signaling renewed market optimism.",
        secondary: "Corporate catering demand remains volatile, but event services are stabilizing.",
        sideBySide: false
      },
      {
        title: "Catering Market Size Over Time",
        desc: "Tracks long-term market expansion and contraction across service categories.",
        spec: "https://mcha0181.github.io/Data-Visualisation-2-submission/Australia%20catering%20market%20size.json",
        main: "Gradual recovery toward 2025 with moderate growth expected in casual dining.",
        secondary: "Increased supply chain efficiency contributed to cost stability.",
        sideBySide: true
      },
      {
        title: "Restaurant Cost Allocation Breakdown",
        desc: "Breaks down expenditure into labour, rent, and raw materials for insight into cost pressure points.",
        spec: "https://mcha0181.github.io/Data-Visualisation-2-submission/Restaurant%20cost%20allocation.json",
        main: "Labour costs remain the largest expense category across all segments.",
        secondary: "High utility and logistics costs continue to challenge profit margins.",
        sideBySide: false
      },
      {
        title: "Supply Chain Origins of Catering Ingredients",
        desc: "Maps domestic versus imported sourcing to show Australia’s food supply reliance.",
        spec: "https://mcha0181.github.io/Data-Visualisation-2-submission/Australia%20supply%20chain.json",
        main: "Local sourcing dominates fresh produce, while imports cover specialty goods.",
        secondary: "Diversification post-COVID improved resilience against global disruptions.",
        sideBySide: true
      }
    ];

    charts.forEach((c, i) => {
      const card = document.createElement('div');
      card.classList.add('chart-card');

      const title = document.createElement('h2');
      title.textContent = c.title;

      const desc = document.createElement('p');
      desc.classList.add('chart-desc');
      desc.textContent = c.desc;

      const vizRow = document.createElement('div');
      vizRow.classList.add('viz-row');

      const vizDiv = document.createElement('div');
      vizDiv.classList.add('viz');
      vizDiv.id = `chart${i}`;

      const captionBox = document.createElement('div');
      captionBox.classList.add('caption-box');

      const main = document.createElement('p');
      main.classList.add('caption-main');
      main.textContent = c.main;

      const secondary = document.createElement('p');
      secondary.classList.add('caption-secondary');
      secondary.textContent = c.secondary;

      captionBox.append(main, secondary);

      if (c.sideBySide) {
        vizRow.append(vizDiv, captionBox);
      } else {
        vizRow.append(vizDiv);
        card.append(title, desc, vizRow, captionBox);
      }

      card.append(title, desc, vizRow, !c.sideBySide ? captionBox : null);
      document.body.appendChild(card);

      vegaEmbed(`#chart${i}`, c.spec, { actions: false, width: "auto", height: 400 });
    });
  </script>

  <footer>
    © 2025 Australian Catering Industry Data Visualisation
  </footer>
</body>
</html>
