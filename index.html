<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Australian Catering Industry Visualisation</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <style>
    body {
      font-family: 'Inter', 'Segoe UI', sans-serif;
      background: linear-gradient(#cde6ff, #f8fcff);
      margin: 0;
      padding: 2rem;
      color: #222;
    }

    .chart-card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.08);
      padding: 2rem;
      margin: 2rem auto;
      max-width: 1100px;
    }

    .chart-card h2 {
      margin-top: 0;
      color: #004e92;
      font-size: 1.8rem;
      border-left: 6px solid #00bcd4;
      padding-left: 0.6rem;
    }

    .chart-desc {
      font-style: italic;
      color: #444;
      margin-bottom: 1rem;
      background: #f3f9fc;
      padding: 0.8rem;
      border-radius: 8px;
    }

    .viz-row {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      align-items: center;
      justify-content: space-between;
    }

    .viz {
      flex: 1 1 600px;
      min-width: 500px;
      max-width: 680px;
      height: 430px;
    }

    .caption-box {
      flex: 1 1 350px;
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
    }

    .caption-main {
      color: #333;
      font-weight: 600;
      border-left: 4px solid #00bcd4;
      padding-left: 0.6rem;
    }

    .caption-secondary {
      color: #555;
      font-size: 0.95rem;
    }

    footer {
      text-align: center;
      margin-top: 3rem;
      color: #555;
    }
  </style>
</head>

<body>
  <h1 style="text-align:center; color:#003f6f;">Australian Catering Industry Dashboard</h1>
  <p style="text-align:center; max-width:850px; margin:auto; color:#444;">
    This dashboard visualises the evolving landscape of Australia’s food and catering industry — 
    from restaurant distribution and cuisine trends to market recovery, cost structures, and supply chains.
  </p>

  <script type="text/javascript">
    const charts = [
      {
        title: "Restaurant Distribution by City",
        desc: "Visualises restaurant density across major Australian cities to reveal regional growth and tourism effects.",
        spec: "https://raw.githubusercontent.com/mcha0181/Data-Visualisation-2-submission/main/Australia%20restaurant%20by%20city.json",
        main: "Sydney and Melbourne dominate due to high urban density and international tourism traffic.",
        secondary: "Secondary cities such as Perth and Brisbane show emerging culinary clusters linked to population expansion and suburban hospitality development.",
        sideBySide: true
      },
      {
        title: "Cuisine Revenue Trends (2000–2025)",
        desc: "Shows how Australians’ dining preferences have shifted from Western to Asian and plant-based cuisines.",
        spec: "https://raw.githubusercontent.com/mcha0181/Data-Visualisation-2-submission/main/Australia%20cuisine%20revenue.json",
        main: "Asian cuisines, particularly Chinese and Thai, show steep long-term revenue growth surpassing Italian and European styles.",
        secondary: "Post-pandemic rebound reflects stronger consumer loyalty to diverse and comfort-oriented food experiences.",
        sideBySide: false
      },
      {
        title: "Overall Catering Revenue Outlook",
        desc: "Aggregates national catering revenue performance to illustrate post-pandemic recovery and business stability.",
        spec: "https://raw.githubusercontent.com/mcha0181/Data-Visualisation-2-submission/main/Asutralia%20catering%20revenue.json",
        main: "National catering revenue in 2023 exceeded pre-pandemic levels, signalling a confident return of corporate and private events.",
        secondary: "Short-term volatility remains tied to economic inflation and workforce availability, but the long-term outlook is positive.",
        sideBySide: false
      },
      {
        title: "Catering Market Size Over Time",
        desc: "Tracks changes in the overall catering market value, reflecting economic cycles and industry adaptation.",
        spec: "https://raw.githubusercontent.com/mcha0181/Data-Visualisation-2-submission/main/Australia%20catering%20market%20size.json",
        main: "The market recovered steadily after 2021 as consumer gatherings resumed and event catering rebounded.",
        secondary: "Stabilisation is linked to hybrid service models combining delivery and on-site experiences.",
        sideBySide: true
      },
      {
        title: "Restaurant Cost Allocation Breakdown",
        desc: "Analyses expenditure structure — labour, ingredients, rent, logistics — to show where business pressures concentrate.",
        spec: "https://raw.githubusercontent.com/mcha0181/Data-Visualisation-2-submission/main/Restaurant%20cost%20allocation.json",
        main: "Labour remains the largest operational cost, comprising up to half of total expenses.",
        secondary: "Ingredient costs fluctuate seasonally, while rent and logistics contribute steadily to overhead pressure.",
        sideBySide: false
      },
      {
        title: "Supply Chain Origins of Catering Ingredients",
        desc: "Maps local vs. imported ingredient sourcing to highlight Australia’s balance between self-reliance and trade dependence.",
        spec: "https://raw.githubusercontent.com/mcha0181/Data-Visualisation-2-submission/main/Australia%20supply%20chain.json",
        main: "Fresh produce remains predominantly locally sourced, ensuring quality and sustainability alignment.",
        secondary: "Imported goods still account for specialised or high-volume commodities such as oils and grains, emphasising diversification benefits post-COVID.",
        sideBySide: true
      }
    ];

    charts.forEach((c, i) => {
      const card = document.createElement('div');
      card.classList.add('chart-card');

      const title = document.createElement('h2');
      title.textContent = c.title;

      const desc = document.createElement('p');
      desc.classList.add('chart-desc');
      desc.textContent = c.desc;

      const vizRow = document.createElement('div');
      vizRow.classList.add('viz-row');

      const vizDiv = document.createElement('div');
      vizDiv.classList.add('viz');
      vizDiv.id = `chart${i}`;

      const captionBox = document.createElement('div');
      captionBox.classList.add('caption-box');

      const main = document.createElement('p');
      main.classList.add('caption-main');
      main.textContent = c.main;

      const secondary = document.createElement('p');
      secondary.classList.add('caption-secondary');
      secondary.textContent = c.secondary;

      captionBox.append(main, secondary);

      if (c.sideBySide) {
        vizRow.append(vizDiv, captionBox);
      } else {
        vizRow.append(vizDiv);
        card.append(title, desc, vizRow, captionBox);
      }

      card.append(title, desc, vizRow, !c.sideBySide ? captionBox : null);
      document.body.appendChild(card);

      vegaEmbed(`#chart${i}`, c.spec, { actions: false, width: "auto", height: 420 });
    });
  </script>

  <footer>
    © 2025 Australian Catering Industry Data Visualisation
  </footer>
</body>
</html>
